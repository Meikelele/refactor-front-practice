$brand-purple: #bf498c;
$brand-green: #40b673;
$gray-6: #6b6b6b;
$gray-8: #2e2e2e;
$yellow: #f2c94c;
$red: #e03131;

@keyframes pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba($brand-purple, 0.6);
  }
  70% {
    transform: scale(1.05);
    box-shadow: 0 0 0 6px rgba($brand-purple, 0);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba($brand-purple, 0);
  }
}

@keyframes blink {
  0%,
  49% {
    opacity: 1;
  }
  50%,
  100% {
    opacity: 0.45;
  }
}

.statusDot {
  display: inline-block;
  border-radius: 50%;
  border: 2px solid $gray-8;
  background: transparent;
  transition: background-color 0.2s ease, transform 0.2s ease,
    box-shadow 0.2s ease;

  &[data-state="idle"] {
    background: transparent;
    border-color: $gray-8;
  }
  &[data-state="ok"] {
    background: $brand-green;
    border-color: $brand-green;
  }
  &[data-state="active"] {
    background: $brand-purple;
    border-color: $brand-purple;
    animation: pulse 1.4s infinite;
  }
  &[data-state="warn"] {
    background: $yellow;
    border-color: $yellow;
    animation: blink 1.2s infinite;
  }
  &[data-state="error"] {
    background: $red;
    border-color: $red;
  }
  &[data-state="unknown"] {
    background: $gray-6;
    border-color: $gray-6;
  }
}

@media (prefers-reduced-motion: reduce) {
  .statusDot {
    animation: none !important;
  }
}
